# MeetConnect - Visual Architecture

## System Architecture Diagram

```
┌────────────────────────────────────────────────────────────────┐
│                         CLIENT LAYER                            │
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐       │
│  │   iOS App   │    │ Android App │    │   Web App   │       │
│  │             │    │             │    │             │       │
│  │ React Native│    │React Native │    │  React.js   │       │
│  │   + Expo    │    │   + Expo    │    │  + Vite     │       │
│  └──────┬──────┘    └──────┬──────┘    └──────┬──────┘       │
│         │                   │                   │              │
└─────────┼───────────────────┼───────────────────┼──────────────┘
          │                   │                   │
          └───────────────────┴───────────────────┘
                              │
                    HTTP/WebSocket (HTTPS)
                              │
          ┌───────────────────▼───────────────────┐
          │      LOAD BALANCER / API GATEWAY      │
          │          (nginx / AWS ALB)            │
          └───────────────────┬───────────────────┘
                              │
          ┌───────────────────┴───────────────────┐
          │                                       │
┌─────────▼─────────┐              ┌──────────────▼────────────┐
│   REST API        │              │   WebSocket Server        │
│   Express.js      │              │   Socket.io               │
│   Node.js         │◄────────────►│   Real-time messaging     │
└─────────┬─────────┘              └──────────────┬────────────┘
          │                                       │
          └───────────────────┬───────────────────┘
                              │
┌─────────────────────────────▼─────────────────────────────────┐
│                    APPLICATION SERVICES                        │
│                                                                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────────┐  │
│  │   Auth   │  │   User   │  │ Activity │  │  Message    │  │
│  │ Service  │  │ Service  │  │ Service  │  │  Service    │  │
│  └──────────┘  └──────────┘  └──────────┘  └─────────────┘  │
│                                                                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌─────────────┐  │
│  │Location  │  │  Review  │  │   File   │  │Notification │  │
│  │ Service  │  │ Service  │  │ Service  │  │  Service    │  │
│  └──────────┘  └──────────┘  └──────────┘  └─────────────┘  │
└────────────────────────┬───────────────────────────────────────┘
                         │
        ┌────────────────┼────────────────┐
        │                │                │
┌───────▼────────┐ ┌─────▼─────┐ ┌───────▼────────┐
│  PostgreSQL    │ │   Redis   │ │    AWS S3      │
│  Primary DB    │ │   Cache   │ │ File Storage   │
│  (Prisma ORM)  │ │  Sessions │ │  Images/Media  │
└────────────────┘ └───────────┘ └────────────────┘
        │                │
┌───────▼────────┐ ┌─────▼─────┐
│  Read Replica  │ │  Redis    │
│  (Optional)    │ │ Sentinel  │
└────────────────┘ └───────────┘
```

## Data Flow Diagrams

### User Authentication Flow

```
┌─────────┐         ┌─────────┐         ┌──────────┐
│ Client  │         │   API   │         │ Database │
└────┬────┘         └────┬────┘         └────┬─────┘
     │                   │                   │
     │ POST /auth/login  │                   │
     ├──────────────────>│                   │
     │                   │  Check user       │
     │                   ├──────────────────>│
     │                   │                   │
     │                   │<──────────────────┤
     │                   │  User data        │
     │                   │                   │
     │                   │ Verify password   │
     │                   │                   │
     │  JWT Token        │                   │
     │<──────────────────┤                   │
     │                   │                   │
     │  API requests     │                   │
     │  (with token)     │                   │
     ├──────────────────>│                   │
     │                   │                   │
     │  Response         │                   │
     │<──────────────────┤                   │
     │                   │                   │
```

### Activity Creation Flow

```
┌─────────┐    ┌─────────┐    ┌──────────┐    ┌──────────┐
│ Client  │    │   API   │    │ Database │    │  Maps    │
└────┬────┘    └────┬────┘    └────┬─────┘    └────┬─────┘
     │              │              │               │
     │ Create       │              │               │
     │ Activity     │              │               │
     ├─────────────>│              │               │
     │              │              │               │
     │              │ Validate     │               │
     │              │ Location     │               │
     │              ├─────────────────────────────>│
     │              │              │               │
     │              │<─────────────────────────────┤
     │              │  Geocoding   │               │
     │              │              │               │
     │              │ Save Activity│               │
     │              ├─────────────>│               │
     │              │              │               │
     │              │<─────────────┤               │
     │              │  Activity ID │               │
     │              │              │               │
     │  Success     │              │               │
     │<─────────────┤              │               │
     │              │              │               │
     │              │ Broadcast    │               │
     │              │ WebSocket    │               │
     │<─────────────┤              │               │
     │  New Activity│              │               │
```

### Real-time Messaging Flow

```
┌──────────┐       ┌──────────┐       ┌──────────┐
│ Client A │       │ Socket.io│       │ Client B │
└────┬─────┘       └────┬─────┘       └────┬─────┘
     │                  │                  │
     │ Connect          │                  │
     ├─────────────────>│                  │
     │                  │                  │
     │                  │  Connect         │
     │                  │<─────────────────┤
     │                  │                  │
     │ join:room        │                  │
     ├─────────────────>│                  │
     │                  │                  │
     │ message:send     │                  │
     ├─────────────────>│                  │
     │                  │                  │
     │                  │ message:receive  │
     │                  ├─────────────────>│
     │                  │                  │
     │                  │  typing:start    │
     │                  │<─────────────────┤
     │                  │                  │
     │ typing:indicator │                  │
     │<─────────────────┤                  │
     │                  │                  │
```

## Database Schema (ERD)

```
┌──────────────┐         ┌──────────────────┐
│    Users     │         │    Activities    │
├──────────────┤         ├──────────────────┤
│ id (PK)      │         │ id (PK)          │
│ email        │         │ creator_id (FK)  │───┐
│ password     │         │ title            │   │
│ name         │         │ description      │   │
│ bio          │         │ category         │   │
│ avatar       │         │ latitude         │   │
│ latitude     │         │ longitude        │   │
│ longitude    │         │ start_time       │   │
│ interests    │         │ max_participants │   │
│ verified     │         │ status           │   │
│ created_at   │         │ created_at       │   │
└──────┬───────┘         └────────┬─────────┘   │
       │                          │             │
       │                          │             │
       └──────────────────────────┘             │
                  │                             │
                  │                             │
       ┌──────────▼──────────┐                 │
       │ ActivityParticipants│◄────────────────┘
       ├─────────────────────┤
       │ id (PK)             │
       │ activity_id (FK)    │
       │ user_id (FK)        │
       │ status              │
       │ joined_at           │
       └─────────────────────┘

┌──────────────┐         ┌──────────────────┐
│   Messages   │         │     Reviews      │
├──────────────┤         ├──────────────────┤
│ id (PK)      │         │ id (PK)          │
│ sender_id(FK)│─────┐   │ reviewer_id (FK) │─────┐
│ receiver_id  │     │   │ reviewee_id (FK) │     │
│ activity_id  │     │   │ rating           │     │
│ content      │     │   │ comment          │     │
│ type         │     │   │ created_at       │     │
│ read         │     │   └──────────────────┘     │
│ created_at   │     │                            │
└──────────────┘     │                            │
                     │                            │
                     └────────────────────────────┘
                                  │
                         ┌────────▼────────┐
                         │      Users      │
                         └─────────────────┘
```

## Mobile App Navigation Flow

```
                    ┌──────────────┐
                    │  App Launch  │
                    └──────┬───────┘
                           │
                    ┌──────▼───────┐
                    │ Auth Check   │
                    └──────┬───────┘
                           │
                 ┌─────────┴─────────┐
                 │                   │
         ┌───────▼────────┐   ┌──────▼──────┐
         │  Welcome/Login │   │  Main Tabs  │
         │  (Not Auth)    │   │ (Auth)      │
         └────────────────┘   └──────┬──────┘
                                     │
         ┌───────────────────────────┼───────────────────┐
         │                           │                   │
    ┌────▼─────┐              ┌──────▼──────┐     ┌─────▼──────┐
    │  Home/   │              │ Activities  │     │  Messages  │
    │ Discover │              │             │     │            │
    └────┬─────┘              └──────┬──────┘     └─────┬──────┘
         │                           │                   │
         │                           │                   │
    ┌────▼─────┐              ┌──────▼──────┐     ┌─────▼──────┐
    │   Map    │              │  Activity   │     │    Chat    │
    │  View    │              │   Detail    │     │   Detail   │
    └──────────┘              └──────┬──────┘     └────────────┘
                                     │
                              ┌──────▼──────┐
                              │   Create    │
                              │  Activity   │
                              └─────────────┘

    ┌─────────────┐
    │   Profile   │
    └──────┬──────┘
           │
    ┌──────▼──────┐
    │   Settings  │
    └─────────────┘
```

## Deployment Architecture (Production)

```
┌──────────────────────────────────────────────────────────┐
│                      Internet                             │
└──────────────────────┬───────────────────────────────────┘
                       │
┌──────────────────────▼───────────────────────────────────┐
│                   CloudFlare CDN                          │
│              (DDoS Protection, SSL)                       │
└──────────────────────┬───────────────────────────────────┘
                       │
┌──────────────────────▼───────────────────────────────────┐
│                  AWS Route 53 (DNS)                       │
└──────────────────────┬───────────────────────────────────┘
                       │
        ┌──────────────┼──────────────┐
        │              │              │
┌───────▼──────┐ ┌─────▼─────┐ ┌─────▼─────┐
│   App Store  │ │Google Play│ │    Web    │
│     (iOS)    │ │ (Android) │ │   Hosting │
└──────────────┘ └───────────┘ └─────┬─────┘
                                     │
                          ┌──────────▼──────────┐
                          │   AWS/GCP/Azure     │
                          │                     │
                          │  ┌───────────────┐  │
                          │  │ Load Balancer │  │
                          │  └───────┬───────┘  │
                          │          │          │
                          │  ┌───────▼───────┐  │
                          │  │  API Servers  │  │
                          │  │  (Auto-scale) │  │
                          │  └───────┬───────┘  │
                          │          │          │
                          │  ┌───────▼───────┐  │
                          │  │   Database    │  │
                          │  │  (RDS/Cloud)  │  │
                          │  └───────────────┘  │
                          │                     │
                          │  ┌───────────────┐  │
                          │  │  Redis Cache  │  │
                          │  └───────────────┘  │
                          │                     │
                          │  ┌───────────────┐  │
                          │  │   S3 Storage  │  │
                          │  └───────────────┘  │
                          └─────────────────────┘
```

---

*These diagrams provide a visual overview of MeetConnect's architecture, data flows, and system design.*
